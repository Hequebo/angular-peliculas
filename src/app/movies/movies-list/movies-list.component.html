<app-generic-list [list]="movies">
    <ng-container content>
        <div class="movies-container">
            @for(movie of movies; track $index) {
                <div class="movie-container">
                    <a [routerLink]="['/pelicula', movie.id]">
                        <img [src]="movie.poster ? movie.poster : 'default.jpg'" alt="movie-poster" class="poster">
                    </a>
                    <p>
                        <a [routerLink]="['/pelicula', movie.id]">{{ movie.title }}</a>
                    </p>
                    <app-authorized role="admin">
                        <ng-container authorized>
                            <div>
                                <a mat-flat-button [routerLink]="['/peliculas/editar', movie.id]">Editar</a>
                                <button 
                                    mat-flat-button 
                                    type="button" 
                                    class="warn"
                                    [swal]="{
                                        title: 'Confirmación',
                                        text: '¿Deseas borrar este registro?',
                                        showCancelButton: true,
                                    }"
                                    (confirm)="delete(movie.id)"
                                    >
                                    Borrar
                                </button>
                            </div>
                        </ng-container>
                    </app-authorized>
                </div>
            }
        </div>
    </ng-container>
</app-generic-list>
